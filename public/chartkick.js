(function(l){function u(b){return"[object Array]"===Object.prototype.toString.call(b)}function x(b){return!(b instanceof Function)&&b instanceof Object}function y(b,a){for(var c in a)x(a[c])||u(a[c])?(x(a[c])&&!x(b[c])&&(b[c]={}),u(a[c])&&!u(b[c])&&(b[c]=[]),y(b[c],a[c])):void 0!==a[c]&&(b[c]=a[c])}function q(b,a){var c={};y(c,b);y(c,a);return c}function z(b,a,c,d,h){return function(f,e,r){var g=q({},b),g=q(g,r||{});e.hideLegend&&a(g);if("min"in e)c(g,e.min);else{a:{var k,m;for(r=0;r<f.length;r++)for(m=
f[r].data,k=0;k<m.length;k++)if(0>m[k][1]){f=!0;break a}f=!1}f||c(g,0)}"max"in e&&d(g,e.max);e.stacked&&h(g);e.colors&&(g.colors=e.colors);return g=q(g,e.library||{})}}function D(b,a){var c="Error Loading Chart: "+a;document.body.innerText?b.innerText=c:b.textContent=c;b.style.color="#ff0000"}function L(b,a,c){(l.jQuery||l.Zepto||l.$).ajax({dataType:"json",url:a,success:c,error:function(a,c,f){D(b,"string"===typeof f?f:f.message)}})}function E(b,a){try{a(b)}catch(c){throw D(b.element,c.message),c;
}}function M(b,a){"string"===typeof b.dataSource?L(b.element,b.dataSource,function(c,d,h){b.data=c;E(b,a)}):(b.data=b.dataSource,E(b,a))}function A(b){if("object"!==typeof b)if("number"===typeof b)b=new Date(1E3*b);else{var a;a=b.replace(/ /,"T").replace(" ","").replace("UTC","Z");var c,d,h,f,e,r,g;c=Object.prototype.toString.call(a);"[object Date]"!==c&&("[object String]"!==c?a=void 0:(a=a.match(F))?(g=parseInt(a[1],10),e=parseInt(a[3],10)-1,c=parseInt(a[5],10),d=parseInt(a[7],10),f=a[9]?parseInt(a[9],
10):0,r=a[11]?parseInt(a[11],10):0,h=a[12]?1E3*parseFloat(G+a[12].slice(1)):0,d=Date.UTC(g,e,c,d,f,r,h),a[13]&&a[14]&&(c=60*a[15],a[17]&&(c+=parseInt(a[17],10)),c*="-"===a[14]?-1:1,d-=6E4*c),a=new Date(d)):a=void 0);b=a||new Date(b)}return b}function H(b){if(!u(b)){var a=[],c;for(c in b)b.hasOwnProperty(c)&&a.push([c,b[c]]);b=a}return b}function I(b,a){return b[0].getTime()-a[0].getTime()}function p(b,a){var c,d,h;h="render"+b;for(c=0;c<v.length;c++)if(d=v[c],d[h]instanceof Function)return d[h](a);
throw Error("No adapter found");}function w(b,a,c){var d,h,f,e;!u(b)||"object"!==typeof b[0]||u(b[0])?(b=[{name:"Value",data:b}],a.hideLegend=!0):a.hideLegend=!1;a.discrete&&(c=!1);for(a=0;a<b.length;a++){h=H(b[a].data);f=[];for(d=0;d<h.length;d++)e=h[d][0],e=c?A(e):""+e,f.push([e,parseFloat(h[d][1])]);c&&f.sort(I);b[a].data=f}return b}function J(b){b=H(b);var a;for(a=0;a<b.length;a++)b[a]=[""+b[a][0],parseFloat(b[a][1])];return b}function N(b){b.data=w(b.data,b.options,!0);p("LineChart",b)}function O(b){b.data=
w(b.data,b.options,!1);p("ColumnChart",b)}function P(b){b.data=J(b.data);p("PieChart",b)}function Q(b){b.data=w(b.data,b.options,!1);p("BarChart",b)}function R(b){b.data=w(b.data,b.options,!0);p("AreaChart",b)}function S(b){b.data=J(b.data);p("GeoChart",b)}function T(b){var a=b.data,c;for(c=0;c<a.length;c++)a[c][1]=A(a[c][1]),a[c][2]=A(a[c][2]);b.data=a;p("Timeline",b)}function t(b,a,c,d,h){"string"===typeof a&&(a=document.getElementById(a));b.element=a;b.options=d||{};b.dataSource=c;B.charts[a.id]=
b;M(b,h)}var K=l.Chartkick||{},B,F,G,v=[];F=/(\d\d\d\d)(\-)?(\d\d)(\-)?(\d\d)(T)?(\d\d)(:)?(\d\d)?(:)?(\d\d)?([\.,]\d+)?($|Z|([\+\-])(\d\d)(:)?(\d\d)?)/i;G=".";if("Highcharts"in l){var C=new function(){var b=l.Highcharts,a={chart:{},xAxis:{labels:{style:{fontSize:"12px"}}},yAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},title:{text:null},credits:{enabled:!1},legend:{borderWidth:0},tooltip:{style:{fontSize:"12px"}},plotOptions:{areaspline:{},series:{marker:{}}}},c=z(a,function(b){b.legend.enabled=
!1},function(b,a){b.yAxis.min=a},function(b,a){b.yAxis.max=a},function(b){b.plotOptions.series.stacking="normal"});this.renderLineChart=function(a,f){f=f||"spline";var e={};"areaspline"===f&&(e={plotOptions:{areaspline:{stacking:"normal"},series:{marker:{enabled:!1}}}});var e=c(a.data,a.options,e),d,g,k;e.xAxis.type=a.options.discrete?"category":"datetime";e.chart.type=f;e.chart.renderTo=a.element.id;var m=a.data;for(g=0;g<m.length;g++){d=m[g].data;if(!a.options.discrete)for(k=0;k<d.length;k++)d[k][0]=
d[k][0].getTime();m[g].marker={symbol:"circle"}}e.series=m;new b.Chart(e)};this.renderPieChart=function(c){var f={};c.options.colors&&(f.colors=c.options.colors);f=q(q(a,f),c.options.library||{});f.chart.renderTo=c.element.id;f.series=[{type:"pie",name:"Value",data:c.data}];new b.Chart(f)};this.renderColumnChart=function(a,f){f=f||"column";var e=a.data,d=c(e,a.options),g,k,m,l,n=[];d.chart.type=f;d.chart.renderTo=a.element.id;for(g=0;g<e.length;g++)for(m=e[g],k=0;k<m.data.length;k++)l=m.data[k],n[l[0]]||
(n[l[0]]=Array(e.length)),n[l[0]][g]=l[1];m=[];for(g in n)n.hasOwnProperty(g)&&m.push(g);d.xAxis.categories=m;var s=[];for(g=0;g<e.length;g++){l=[];for(k=0;k<m.length;k++)l.push(n[m[k]][g]||0);s.push({name:e[g].name,data:l})}d.series=s;new b.Chart(d)};var d=this;this.renderBarChart=function(b){d.renderColumnChart(b,"bar")};this.renderAreaChart=function(b){d.renderLineChart(b,"areaspline")}};v.push(C)}l.google&&l.google.setOnLoadCallback&&(C=new function(){var b=l.google,a={},c=[],d=function(){for(var a,
f,d=0;d<c.length;d++)if(a=c[d],f=b.visualization&&("corechart"==a.pack&&b.visualization.LineChart||"timeline"==a.pack&&b.visualization.Timeline))a.callback(),c.splice(d,1),d--},h=function(s,f){f||(f=s,s="corechart");c.push({pack:s,callback:f});if(a[s])d();else{a[s]=!0;var e={packages:[s],callback:d};K.language&&(e.language=K.language);b.load("visualization","1",e)}},f={chartArea:{},fontName:"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif",pointSize:6,legend:{textStyle:{fontSize:12,
color:"#444"},alignment:"center",position:"right"},curveType:"function",hAxis:{textStyle:{color:"#666",fontSize:12},gridlines:{color:"transparent"},baselineColor:"#ccc",viewWindow:{}},vAxis:{textStyle:{color:"#666",fontSize:12},baselineColor:"#ccc",viewWindow:{}},tooltip:{textStyle:{color:"#666",fontSize:12}}},e=function(b){b.legend.position="none"},r=function(b,a){b.hAxis.viewWindow.min=a},g=function(b,a){b.hAxis.viewWindow.max=a},k=function(b){b.isStacked=!0},m=z(f,e,function(b,a){b.vAxis.viewWindow.min=
a},function(b,a){b.vAxis.viewWindow.max=a},k),p=function(a,c){var f=new b.visualization.DataTable;f.addColumn(c,"");var d,e,g,h,l,k=[];for(d=0;d<a.length;d++)for(g=a[d],f.addColumn("number",g.name),e=0;e<g.data.length;e++)h=g.data[e],l="datetime"===c?h[0].getTime():h[0],k[l]||(k[l]=Array(a.length)),k[l][d]=parseFloat(h[1]);e=[];for(d in k)k.hasOwnProperty(d)&&e.push(["datetime"===c?new Date(parseFloat(d)):d].concat(k[d]));"datetime"===c&&e.sort(I);f.addRows(e);return f},n=function(b){l.attachEvent?
l.attachEvent("onresize",b):l.addEventListener&&l.addEventListener("resize",b,!0);b()};this.renderLineChart=function(a){h(function(){var c=m(a.data,a.options),d=p(a.data,a.options.discrete?"string":"datetime");a.chart=new b.visualization.LineChart(a.element);n(function(){a.chart.draw(d,c)})})};this.renderPieChart=function(a){h(function(){var c={chartArea:{top:"10%",height:"80%"}};a.options.colors&&(c.colors=a.options.colors);var d=q(q(f,c),a.options.library||{}),e=new b.visualization.DataTable;e.addColumn("string",
"");e.addColumn("number","Value");e.addRows(a.data);a.chart=new b.visualization.PieChart(a.element);n(function(){a.chart.draw(e,d)})})};this.renderColumnChart=function(a){h(function(){var c=m(a.data,a.options),d=p(a.data,"string");a.chart=new b.visualization.ColumnChart(a.element);n(function(){a.chart.draw(d,c)})})};this.renderBarChart=function(a){h(function(){var c=z(f,e,r,g,k)(a.data,a.options,{hAxis:{gridlines:{color:"#ccc"}}}),d=p(a.data,"string");a.chart=new b.visualization.BarChart(a.element);
n(function(){a.chart.draw(d,c)})})};this.renderAreaChart=function(a){h(function(){var c=m(a.data,a.options,{isStacked:!0,pointSize:0,areaOpacity:.5}),d=p(a.data,a.options.discrete?"string":"datetime");a.chart=new b.visualization.AreaChart(a.element);n(function(){a.chart.draw(d,c)})})};this.renderGeoChart=function(a){h(function(){var c=q(q(f,{legend:"none",colorAxis:{colors:a.options.colors||["#f6c7b6","#ce502d"]}}),a.options.library||{}),d=new b.visualization.DataTable;d.addColumn("string","");d.addColumn("number",
"Value");d.addRows(a.data);a.chart=new b.visualization.GeoChart(a.element);n(function(){a.chart.draw(d,c)})})};this.renderTimeline=function(a){h("timeline",function(){var c={legend:"none"};a.options.colors&&(c.colorAxis.colors=a.options.colors);var d=q(q(f,c),a.options.library||{}),e=new b.visualization.DataTable;e.addColumn({type:"string",id:"Name"});e.addColumn({type:"date",id:"Start"});e.addColumn({type:"date",id:"End"});e.addRows(a.data);a.chart=new b.visualization.Timeline(a.element);n(function(){a.chart.draw(e,
d)})})}},v.push(C));B={LineChart:function(b,a,c){t(this,b,a,c,N)},PieChart:function(b,a,c){t(this,b,a,c,P)},ColumnChart:function(b,a,c){t(this,b,a,c,O)},BarChart:function(b,a,c){t(this,b,a,c,Q)},AreaChart:function(b,a,c){t(this,b,a,c,R)},GeoChart:function(b,a,c){t(this,b,a,c,S)},Timeline:function(b,a,c){t(this,b,a,c,T)},charts:{}};l.Chartkick=B})(window);